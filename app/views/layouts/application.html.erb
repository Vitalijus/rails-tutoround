<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Tutorship</title>
  <%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
  <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
  <%= csrf_meta_tags %>

  <meta name="description" content="Tutorship">
  <meta name="keywords" content="Tutorship, private lessons" />
  <meta name="author" content="Tutorship">

  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Google map API JS dependencies -->
  <script src="//maps.google.com/maps/api/js?v=3.13&sensor=false&libraries=geometry" type="text/javascript"></script>
  <script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>

  <!-- Google Fonts  -->
  <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,500|Lato:300,400' rel='stylesheet' type='text/css'> <!-- Body font & Navbar font -->
</head>

<body>
  <header id="header">
    <nav id="nav">
      <div class="nav-panel">
        <%= link_to root_url, data: { no_turbolink: true } do %>
          <div id="website-logo">
            <%= image_tag "logo.png" %>
          </div>
        <% end %>

        <div class="search-icon">
          <%= image_tag "search.png", width: 35 %>
        </div>

        <div class="search-tutor">
          <%= search_form_for @search_users do |f| %>
            <%= text_field_tag :location, params[:location], :class => "search-field", :placeholder => "Search in your area..." %>
          <% end %>
        </div>
      </div>
        
      <div id="nav-links">
        <%= link_to root_url, :class => "nav-link", data: { no_turbolink: true } do %>
          Tutors
        <% end %>

        <% if user_signed_in? %>
          <%= link_to new_tutor_path, :class => "nav-link", data: { no_turbolink: true } do %>
            New Tutor
          <% end %>

          <div class="nav-link user-panel">
            <%= current_user.first_name %> 
            <div class="user-setting-panel">
              <%= link_to user_path(current_user), data: { no_turbolink: true } do %>
                <div class="user-setting-panel-link">
                  Profile
                </div>
              <% end %>

              <%= link_to edit_user_registration_path, data: { no_turbolink: true } do %>
                <div class="user-setting-panel-link">
                  Settings
                </div>
              <% end %>
              
              <%= link_to destroy_user_session_path, method: :delete do %>
                <div class="user-setting-panel-link">
                  Sign out
                </div>
              <% end %>
            </div>
          </div>

        <% else %>

          <%= link_to new_user_registration_path, :class => "nav-link", data: { no_turbolink: true } do %>  Sign up
          <% end %>

          <%= link_to new_user_session_path, :class => "nav-link", data: { no_turbolink: true } do %>
            Sign in
            <!--<div class="nav-link-triangle">
              <%= image_tag "triangle.png", width: 20 %>
            </div>-->
          <% end %>
        <% end %>
      </div>
    </nav>
  </header>

  <%= yield %>
  <%= yield :google_map %>
</body>
</html>
